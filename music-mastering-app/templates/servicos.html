{% extends "base.html" %}

{% block title %}Servi√ßos - Plataforma para Produtores Musicais{% endblock %}

{% block content %}
<div class="page-container">
    <header class="page-header">
        <h1>Servi√ßos de Ghost Producer</h1>
        <p>Conecte-se com produtores profissionais para criar suas m√∫sicas</p>
    </header>

    <main class="main-content">
    <div class="surface-panel">
    <section class="services-intro">
        <div class="intro-content">
            <h2>O que √© Ghost Production?</h2>
            <p>Ghost production √© quando um produtor musical cria uma m√∫sica completa para voc√™, mas permanece an√¥nimo. Voc√™ recebe todos os direitos da m√∫sica e pode lan√ß√°-la com seu nome.</p>
            
            <div class="benefits-grid">
                <div class="benefit-item">
                    <div class="benefit-icon">‚ö°</div>
                    <h3>Qualidade Profissional</h3>
                    <p>M√∫sicas produzidas por profissionais experientes com equipamentos de est√∫dio.</p>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">üéµ</div>
                    <h3>Estilo Personalizado</h3>
                    <p>Produ√ß√µes feitas sob medida para seu estilo musical e prefer√™ncias.</p>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">üîí</div>
                    <h3>Direitos Completos</h3>
                    <p>Voc√™ recebe 100% dos direitos da m√∫sica para usar como quiser.</p>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">üì±</div>
                    <h3>Suporte Cont√≠nuo</h3>
                    <p>Acompanhamento durante todo o processo de cria√ß√£o e revis√µes.</p>
                </div>
            </div>
        </div>
    </section>

    

    <section class="genres-section">
        <h2>G√™neros Musicais</h2>
        <p>Nossos produtores s√£o especialistas em diversos g√™neros musicais:</p>
        
        <div class="genres-grid">
            <div class="genre-item">üéß EDM / House</div>
            <div class="genre-item">üé§ Pop</div>
            <div class="genre-item">üé∏ Rock</div>
            <div class="genre-item">üéπ Hip Hop</div>
            <div class="genre-item">üé∑ Jazz</div>
            <div class="genre-item">üéª Cl√°ssica</div>
            <div class="genre-item">üé∫ Blues</div>
            <div class="genre-item">üéº Country</div>
            <div class="genre-item">üåç World Music</div>
            <div class="genre-item">üéµ Experimental</div>
            <div class="genre-item">üíÄ Phonk</div>
            <div class="genre-item"> ‚úÖ Mais de 100 estilos</div>
        </div>
    </section>

    <section class="contact-section" id="contact">
        <h2>Solicitar Ghost Producer</h2>
        <p>Escolha o pacote ideal e preencha os detalhes do seu projeto:</p>
        
        <!-- Sele√ß√£o de Pacote -->
        <div class="package-selection">
                <div class="packages-grid">
                    <div class="package-card" data-package="basico">
                        <div class="package-header">
                    <h3>B√°sico</h3>
                            <div class="package-price">A partir de R$ 500</div>
                        </div>
                        <ul class="package-features">
                            <li>‚úì M√∫sica completa (3-4 minutos)</li>
                            <li>‚úì Mixagem b√°sica</li>
                            <li>‚úì 2 revis√µes</li>
                            <li>‚úì At√© 7 dias</li>
                            <li>‚úì Arquivos WAV e MP3</li>
                        </ul>
                        <div class="package-selector">
                            <input type="radio" name="package" value="basico" id="pkg-basico-servicos">
                            <label for="pkg-basico-servicos" class="open-modal" data-package="basico">Selecionar</label>
                        </div>
                    </div>

                    <div class="package-card featured" data-package="profissional">
                        <div class="package-badge">Mais Popular</div>
                        <div class="package-header">
                            <h3>Profissional</h3>
                            <div class="package-price">A partir de R$ 800</div>
                        </div>
                        <ul class="package-features">
                            <li>‚úì M√∫sica completa (3-5 minutos)</li>
                            <li>‚úì Mixagem profissional</li>
                            <li>‚úì Masteriza√ß√£o b√°sica</li>
                            <li>‚úì 3 revis√µes</li>
                            <li>‚úì At√© 5 dias</li>
                            <li>‚úì Arquivos WAV, MP3 e stems</li>
                            <li>‚úì Consultoria musical</li>
                        </ul>
                        <div class="package-selector">
                            <input type="radio" name="package" value="profissional" id="pkg-profissional-servicos">
                            <label for="pkg-profissional-servicos" class="open-modal" data-package="profissional">Selecionar</label>
                        </div>
                    </div>

                    <div class="package-card" data-package="premium">
                        <div class="package-header">
                            <h3>Premium</h3>
                            <div class="package-price">A partir de R$ 1200</div>
                        </div>
                        <ul class="package-features">
                            <li>‚úì M√∫sica completa (3-6 minutos)</li>
                            <li>‚úì Mixagem premium</li>
                            <li>‚úì Masteriza√ß√£o profissional</li>
                            <li>‚úì Revis√µes ilimitadas</li>
                            <li>‚úì At√© 3 dias</li>
                            <li>‚úì Arquivos WAV, MP3, stems e projeto</li>
                            <li>‚úì Consultoria musical completa</li>
                            <li>‚úì Suporte priorit√°rio</li>
                        </ul>
                        <div class="package-selector">
                            <input type="radio" name="package" value="premium" id="pkg-premium-servicos">
                            <label for="pkg-premium-servicos" class="open-modal" data-package="premium">Selecionar</label>
                        </div>
                    </div>
                </div>
            </div>

        <!-- Modal de Solicita√ß√£o -->
        <div id="ghostModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Solicitar Ghost Producer</h3>
                    <span class="close" id="ghostModalClose">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="ghostProducerFormServicos" class="contact-form">
                        <input type="hidden" id="selectedPackage" name="package" value="">
                        <div class="form-group">
                            <label for="genre">G√™nero Musical *</label>
                            <select id="genre" name="genre" required>
                                <option value="">Selecione um g√™nero</option>
                                <option value="trap">Trap</option>
                                <option value="drill">Drill</option>
                                <option value="funk">Funk</option>
                                <option value="sertanejo">Sertanejo</option>
                                <option value="pop">Pop</option>
                                <option value="rock">Rock</option>
                                <option value="electronic">Electronic</option>
                                <option value="hip-hop">Hip-Hop</option>
                                <option value="r&b">R&B</option>
                                <option value="edm">EDM / House</option>
                                <option value="jazz">Jazz</option>
                                <option value="classical">Cl√°ssica</option>
                                <option value="blues">Blues</option>
                                <option value="country">Country</option>
                                <option value="world">World Music</option>
                                <option value="experimental">Experimental</option>
                                <option value="phonk">Phonk</option>
                                <option value="outro">Outro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="description">Descri√ß√£o do Projeto *</label>
                            <textarea id="description" name="description" rows="6" placeholder="Descreva o que voc√™ precisa, estilo musical, refer√™ncias, prazo desejado..." required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="deadline">Prazo Desejado</label>
                            <select id="deadline" name="deadline">
                                <option value="">Prazo do Pacote (padr√£o)</option>
                                <option value="urgent" data-fee="20">Urgente + 20%</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary btn-large">Enviar Solicita√ß√£o</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Contatos: full width -->
        <div class="contact-info" style="margin-top: 2rem;">
                <h3>Outras formas de contato</h3>
                
                <div class="contact-item">
                    <div class="contact-icon">üìß</div>
                    <div>
                        <h4>E-mail</h4>
                        <p>contato@soundnest.com</p>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">üì±</div>
                    <div>
                        <h4>WhatsApp</h4>
                        <p>+55 (11) 99999-9999</p>
                        <a href="https://wa.me/5511999999999" target="_blank" class="whatsapp-btn">
                            üì± Enviar Mensagem
                        </a>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">‚è∞</div>
                    <div>
                        <h4>Hor√°rio de Atendimento</h4>
                        <p>Segunda a Sexta: 9h √†s 18h</p>
                        <p>S√°bado: 9h √†s 14h</p>
                    </div>
                </div>
        </div>
    </section>

    <section class="faq-section">
        <h2>‚ùì Perguntas Frequentes</h2>
        <div class="faq-grid">
            <div class="faq-item">
                <h3>Como funciona o processo de ghost production?</h3>
                <p>Ap√≥s o contato inicial, fazemos uma reuni√£o para entender suas necessidades. O produtor cria a m√∫sica, voc√™ recebe para avalia√ß√£o e pode solicitar revis√µes. Ap√≥s a aprova√ß√£o final, voc√™ recebe todos os arquivos e direitos.</p>
            </div>
            
            <div class="faq-item">
                <h3>Posso usar a m√∫sica em plataformas de streaming?</h3>
                <p>Sim! Voc√™ recebe 100% dos direitos da m√∫sica e pode us√°-la em qualquer plataforma, incluindo Spotify, Apple Music, YouTube, etc.</p>
            </div>
            
            <div class="faq-item">
                <h3>Quanto tempo leva para produzir uma m√∫sica?</h3>
                <p>O tempo varia de 3 a 7 dias, dependendo do pacote escolhido e da complexidade da m√∫sica. Sempre informamos o prazo estimado no or√ßamento.</p>
            </div>
            
            <div class="faq-item">
                <h3>Posso solicitar altera√ß√µes na m√∫sica?</h3>
                <p>Sim! Cada pacote inclui um n√∫mero espec√≠fico de revis√µes. Para o pacote Premium, as revis√µes s√£o ilimitadas at√© sua aprova√ß√£o final.</p>
            </div>
        </div>
        </section>
    </div>
    </main>
</div>

<script>
function scrollToContact() {
    document.getElementById('contact').scrollIntoView({ 
        behavior: 'smooth' 
    });
}

// Sele√ß√£o de pacote com feedback visual e abertura do modal
document.querySelectorAll('.package-card').forEach(card => {
    card.addEventListener('click', function(e) {
        document.querySelectorAll('.package-card').forEach(c => c.classList.remove('selected'));
        this.classList.add('selected');
        const radio = this.querySelector('input[type="radio"]');
        if (radio) radio.checked = true;
    });
});

function openGhostModal(pkg) {
    const modal = document.getElementById('ghostModal');
    const hiddenPkg = document.getElementById('selectedPackage');
    if (hiddenPkg) hiddenPkg.value = pkg || '';
    if (modal) modal.style.display = 'block';
}

function closeGhostModal() {
    const modal = document.getElementById('ghostModal');
    if (modal) modal.style.display = 'none';
}

document.querySelectorAll('.open-modal').forEach(btn => {
    btn.addEventListener('click', function(e) {
        e.stopPropagation();
        const pkg = this.getAttribute('data-package');
        openGhostModal(pkg);
    });
});

document.getElementById('ghostModalClose').addEventListener('click', closeGhostModal);
window.addEventListener('click', function(e) {
    const modal = document.getElementById('ghostModal');
    if (e.target === modal) closeGhostModal();
});

// Enviar formul√°rio de Ghost Producer
document.getElementById('ghostProducerFormServicos').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const selectedPackage = document.getElementById('selectedPackage').value || (document.querySelector('input[name="package"]:checked')?.value);
    if (!selectedPackage) {
        alert('Por favor, selecione um pacote');
        return;
    }
    
    const formData = {
        package: selectedPackage,
        genre: document.getElementById('genre').value,
        description: document.getElementById('description').value,
        deadline: document.getElementById('deadline').value
    };
    
    fetch('/api/request-ghost-producer', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            if (window.showToast) showToast('success', data.message);
            document.getElementById('ghostProducerFormServicos').reset();
            document.querySelectorAll('.package-card').forEach(c => c.classList.remove('selected'));
            closeGhostModal();
        } else {
            if (window.showToast) showToast('error', 'Erro: ' + data.error);
        }
    })
    .catch(error => {
        console.error('Erro:', error);
        if (window.showToast) showToast('error', 'Erro ao enviar solicita√ß√£o');
    });
});
</script>
{% endblock %}
